<!-- =====================================================
     INTERFACE MOT DE PASSE OUBLIÉ - EXACTEMENT COMME L'EXEMPLE
     ===================================================== -->

<div class="forgot-password-container">
  <!-- Partie gauche - Branding -->
  <div class="left-section">
    <div class="brand-container">
      <!-- Icône de récupération -->
      <div class="recovery-icon">
        <mat-icon>vpn_key</mat-icon>
      </div>
      
      <!-- Titre -->
      <h1 class="main-title">Récupération</h1>
      
      <!-- Description -->
      <p class="description">
        Entrez votre email ou nom<br>
        d'utilisateur pour recevoir un lien de<br>
        réinitialisation de mot de passe.
      </p>
    </div>
  </div>

  <!-- Partie droite - Formulaire -->
  <div class="right-section">
    <div class="form-container">
      <!-- Titre du formulaire -->
      <div class="form-header">
        <h2 class="form-title">Mot de passe oublié</h2>
        <p class="form-subtitle">Récupérez l'accès à votre compte</p>
      </div>

      <!-- Formulaire -->
      <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="forgot-password-form">
        
        <!-- Email ou nom d'utilisateur -->
        <div class="form-group">
          <label for="emailOrUsername" class="form-label">Email ou nom d'utilisateur</label>
          <div class="input-wrapper">
            <div class="input-container">
              <div class="input-icon">
                <mat-icon>email</mat-icon>
              </div>
              <input 
                type="text" 
                id="emailOrUsername"
                formControlName="emailOrUsername"
                placeholder="votre.email@commune-oujda.ma"
                class="form-input"
                autocomplete="email">
            </div>
            <div class="error-message" *ngIf="forgotPasswordForm.get('emailOrUsername')?.invalid && forgotPasswordForm.get('emailOrUsername')?.touched">
              <mat-icon class="error-icon">error_outline</mat-icon>
              {{ getFieldError('emailOrUsername') }}
            </div>
          </div>
        </div>

        <!-- Bouton d'envoi -->
        <button 
          type="submit" 
          class="reset-button"
          [disabled]="forgotPasswordForm.invalid || loading">
          <div class="button-content">
            <mat-spinner *ngIf="loading" diameter="20" class="button-spinner"></mat-spinner>
            <mat-icon *ngIf="!loading" class="button-icon">send</mat-icon>
            <span class="button-text">
              {{loading ? 'Envoi en cours...' : 'Envoyer le lien de réinitialisation'}}
            </span>
          </div>
        </button>

        <!-- Message de succès -->
        <div class="success-message" *ngIf="emailSent">
          <mat-icon class="success-icon">check_circle</mat-icon>
          <p>Un lien de réinitialisation a été envoyé à votre adresse email.</p>
        </div>

        <!-- Lien de retour -->
        <div class="back-section">
          <p class="back-text">Vous vous souvenez de votre mot de passe ?</p>
          <a routerLink="/auth/login" class="back-link">
            <mat-icon class="back-icon">arrow_back</mat-icon>
            <span>Se connecter</span>
          </a>
        </div>
      </form>
    </div>
  </div>
</div>